<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Básicos -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO -->
  <title>Joana Mora · Uñas Personalizadas & Nail Art · Uñas Press On</title>
  <meta name="description" content="Uñas personalizadas elegantes hechas a tu medida. Diseños exclusivos de Joana Mora con entrega en Guadalajara.">
  <link rel="canonical" href="https://joana-mora-nails.netlify.app/">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#A78BFA">
  <meta name="robots" content="index, follow">

  <!-- Colores de navegador -->
  <meta name="theme-color" content="#A985D6">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Joana Mora">
  <meta property="og:title" content="Joana Mora · Uñas Personalizadas & Nail Art">
  <meta property="og:description" content="Uñas personalizadas elegantes hechas a tu medida. Diseños exclusivos con entrega en Guadalajara.">
  <meta property="og:url" content="https://joana-mora-nails.netlify.app/">
  <meta property="og:image" content="https://joana-mora-nails.netlify.app/assets/og/joana-mora-og.png">
  <meta property="og:image:secure_url" content="https://joana-mora-nails.netlify.app/assets/og/joana-mora-og.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="es_MX">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Joana Mora · Uñas Personalizadas & Nail Art">
  <meta name="twitter:description" content="Diseños elegantes hechos a tu medida.">
  <meta name="twitter:image" content="https://joana-mora-nails.netlify.app/assets/og/joana-mora-og.png">

  <!-- Tipografías & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Estilos globales -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Ajustes suaves para las nuevas secciones -->
  <style>
    .home-cta-wrap{max-width:760px;margin:18px auto;padding:0 16px;display:grid;gap:14px}
    .cta-card, .finder-card{
      background:#fff;border:1px solid #f1e9ff;border-radius:14px;box-shadow:0 8px 22px #0001;padding:16px
    }
    .cta-button{
      display:block;text-align:center;background:#a78bfa;color:#fff;padding:14px 18px;border-radius:12px;
      font-weight:800;text-decoration:none
    }
    .finder-title{font-weight:800;margin-bottom:8px;color:#6b21a8}
    .finder-row{display:flex;gap:8px;flex-wrap:wrap}
    .finder-row input{flex:1;min-width:200px;padding:10px;border:1px solid #e5e7eb;border-radius:10px}
    .finder-row button{padding:10px 14px;border:0;border-radius:10px;background:#a78bfa;color:#fff;font-weight:700}
    .finder-status{margin-top:8px;color:#6b7280}
  </style>

  <!-- Favicon (cuando quieras) -->
  <!-- <link rel="icon" href="img/favicon.png" type="image/png"> -->

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Joana Mora",
    "url":"https://joana-mora-nails.netlify.app/",
    "logo":"https://joana-mora-nails.netlify.app/assets/og/joana-mora-og.png",
    "sameAs":[
      "https://www.instagram.com/nailsjomora/",
      "https://www.tiktok.com/@TU_USUARIO"
    ],
    "description":"Uñas personalizadas elegantes hechas a medida en Guadalajara."
  }
  </script>

  <meta name="google-site-verification" content="fzte2G_gkicaCNa1sytZ_MW9z8vuVvxQWbkmB1zDsZo" />
</head>
<body>
  <!-- Header -->
  <header>
    <div class="contenedor-header">
      <div class="logo-container">
        <img class="img-logo" src="assets/img/Logo Jo.png" alt="Logo Joana Mora" width="700px">
      </div>
      <div>
        <h1 class="titulo">Joana Mora</h1>
        <h2 class="subtitulo">Nails Studio</h2>
        
      </div>
      <div class="header-buttons">
        <a href="https://wa.me/5213344782571?text=Hola%20Joana,%20quiero%20agendar%20una%20cita%20💅"
           class="btn-cta" target="_blank" rel="noopener noreferrer">Agenda tu cita</a>
        <button class="btn-resenas" data-open="modalResenas">Experiencias de nuestras clientas</button>
      </div>
    </div>
  </header>

  <!-- Modal Reseñas -->
  <div id="modalResenas" class="modal">
    <div class="modal-content">
      <h2>Experiencias de nuestras clientas</h2>
      <p>“Un trabajo impecable, delicado y elegante.” – Mariana</p>
      <p>“Me encantó la atención, mis uñas quedaron hermosas.” – Fernanda</p>
      <p>“Definitivamente mi nuevo lugar favorito.” – Alejandra</p>
      <p>“Se las recomiendo demasiado, tuve una muy linda experiencia” – Karina</p>
      <p>“Lindo trabajo, limpio y muy muy amable” – Abril</p>
      <button class="btn-cerrar" data-close="modalResenas">Cerrar</button>
    </div>
  </div>

  <!-- Hero / Slogan -->
  <section>
    <h2 class="slogan"> ¡ Más que uñas, una experiencia !</h2>
    <div class="ritual-card">
      <p>Transformamos tu esencia en arte, un ritual de belleza que convierte cada uña en algo único.</p>
    </div>
    <p class="elige">¡Elige, personaliza y luce!</p>
  </section>

  <!-- Galería -->
  <section>
    <h2 class="galeria" style="text-align:center">Galería de diseños</h2>
    <div class="categorias">
      <button type="button" id="btnGaleria"> 🪬 Ver Diseños</button>
    </div>
  </section>

  <!-- Modal Galería -->
  <div id="modalGaleria" class="modal" aria-hidden="true">
    <div class="modal-contenido-galeria" role="dialog" aria-modal="true" aria-labelledby="tituloGaleria">
      <button class="cerrar" id="btnCerrarGaleria" aria-label="Cerrar">&times;</button>
      <h3 id="tituloGaleria" class="sr-only">Galería</h3>

      <!-- ÚNICA galería -->
      <div id="galeria-todas" class="imagenes-galeria">
        <img src="assets/img/img1.jpg" alt="Diseño 1"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img2.jpg" alt="Diseño 2"   onclick="abrirLightbox(this.src)">
        <img src="assets/img/img3.jpg" alt="Diseño 3"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img4.jpg" alt="Diseño 4"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img5.jpg" alt="Diseño 5"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img6.jpg" alt="Diseño 6"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img7.jpg" alt="Diseño 7"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img8.jpg" alt="Diseño 8"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img9.jpg" alt="Diseño 9"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img10.jpg" alt="Diseño 10"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img11.jpg" alt="Diseño 11"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img12.jpg" alt="Diseño 12"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img13.jpg" alt="Diseño 13"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img14.jpg" alt="Diseño 14"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img15.jpg" alt="Diseño 15"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img16.jpg" alt="Diseño 16"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img17.jpg" alt="Diseño 17"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img18.jpg" alt="Diseño 18"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img19.jpg" alt="Diseño 19"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img20.jpg" alt="Diseño 20"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img21.jpg" alt="Diseño 21"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img22.jpg" alt="Diseño 22"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img23.jpg" alt="Diseño 23"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img24.jpg" alt="Diseño 24"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img25.jpg" alt="Diseño 25"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img26.jpg" alt="Diseño 26"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img27.jpg" alt="Diseño 27"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img28.jpg" alt="Diseño 28"  onclick="abrirLightbox(this.src)">
        <img src="assets/img/img29.jpg" alt="Diseño 29"  onclick="abrirLightbox(this.src)">
      </div>
    </div>
  </div>

  <!-- 🔥 CTA de Tarjeta + Finder -->
  <section class="home-cta-wrap" aria-label="Tarjeta de sellos">
    <!-- CTA obtener tarjeta -->
    <div class="cta-card">
      <a class="cta-button" href="registro.html">✨ Obtén tu tarjeta de Fidelidad</a>
      <p style="margin:8px 0 0;color:#6b7280">Regístrate en segundos y recibe tu QR para acumular sellos en cada visita y obtener recompensas.</p>
    </div>

    <!-- Finder: ¿Ya tienes tarjeta? -->
    <div class="finder-card">
      <div class="finder-title">¿Ya tienes tarjeta?</div>
      <div class="finder-row">
        <input id="phone" placeholder="Tu teléfono (WhatsApp)">
        <button id="find">Ver mi tarjeta</button>
      </div>
      <div id="findStatus" class="finder-status"></div>
    </div>
  </section>

<!-- Botón Programa Referidas -->
<button id="btnReferidas" class="btn-referidas" data-open="modalReferidas">
  💜 Programa Referidas
</button>

<!-- Modal Programa Referidas -->
<div id="modalReferidas" class="modal" aria-hidden="true" data-lock-scroll>
  <div class="modal-contenido" role="dialog" aria-modal="true" aria-labelledby="tituloReferidas">
    <button class="cerrar" id="cerrarReferidas" data-close="modalReferidas" aria-label="Cerrar">&times;</button>
    <h2 id="tituloReferidas">Programa de Referidas 💖</h2>
    <p>¡Invita a tus amigas y gana descuentos en tu próximo servicio!</p>
    <ul>
   <li>🎁 Te regalamos un sello por cada amiga nueva que agendes.</li>
  <li>💅 Tu amiga recibe un 10% en su primera cita.</li>
  <li>📱 Además, también recibe 10% extra si nos sigue en redes sociales y descarga nuestra app oficial</li>
  <li>✨ Sin límite de referidas: ¡más amigas, más beneficios!</li>
  <li>🏆 Canjea tus sellos por descuentos o servicios gratis.</li>
    </ul>
    <p>Que estan esperando hermosas, corran la voz, entre mas refieran mas ganan. Dile a tus amigas que mencionen tu nombre y número de telefono cuando agenden para aplicarte tu sellito 🫶🏻 </p>
    
  </div>
</div>



  

  <!-- Proceso + Form -->
  <form action="https://formsubmit.co/jomoranails@gmail.com" method="POST" enctype="multipart/form-data">
    <div class="container">
      <!-- Pasos -->
      <div class="pasos">
        <h2>¿Cómo hacer tu pedido?</h2>
        <p>💅 Elige un diseño de la galería o <span class="parrafo">solicita uno personalizado.</span></p>
        <p>📏 Mide tus uñas con nuestra guía.</p>
        <p>📄 Completa el formulario de pedido.</p>
        <p>🚚 Recibe tus uñas en casa.</p>

        <button type="button" class="guia-btn" onclick="abrirModal()">✋ Guía para medir tus uñas</button>

        <!-- Modal Guía -->
        <div id="modalGuia" class="modal">
          <div class="modal-contenido">
            <button class="cerrar" onclick="cerrarModal()" aria-label="Cerrar guía">&times;</button>
            <img src="assets/img/Instrucciones.jpg" alt="Guía de medición de uñas" class="imagen-modal">
            <img src="assets/img/Instrucciones2.jpg" alt="Guía de medición de uñas 2" class="imagen-modal">
          </div>
        </div>

        <!-- Redes -->
        <div class="redes-sociales">
          <a href="https://www.instagram.com/nailsjomora/" target="_blank" aria-label="Instagram">
            <img src="https://cdn-icons-png.flaticon.com/512/174/174855.png" alt="Instagram">
          </a>
          <a href="https://www.tiktok.com/@jomoranails" target="_blank" aria-label="TikTok">
            <i class="fa-brands fa-tiktok"></i>
          </a>
          <a href="https://wa.me/523344782571?text=Hola%20Joana%2C%20me%20podrías%20hacer%20una%20cotización%20por%20favor?" target="_blank" aria-label="WhatsApp">
            <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp">
          </a>
          <a href="https://www.facebook.com/profile.php?id=61581762269081#" target="_blank" aria-label="Facebook">
            <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook">
          </a>
        </div>
      </div>

      <!-- Formulario -->
      <div class="formulario">
        <h2>¡Personaliza tus Uñas!</h2>

        <input type="text" name="nombre" placeholder="Nombre" required>
        <input type="text" name="contacto" placeholder="Teléfono o Email" required>
        <input type="text" name="diseno" placeholder="Diseño deseado" required>

        <select id="medidas" name="medidas" required>
          <option value="" disabled selected hidden>Medidas</option>
          <option value="2">N.º 2 - 4 mm</option>
          <option value="3">N.º 3 - 8 mm</option>
          <option value="4">N.º 4 - 12 mm</option>
          <option value="5">N.º 5 - 16 mm</option>
          <option value="6">N.º 6 - 20 mm</option>
          <option value="7">N.º 7 - 24 mm</option>
          <option value="8">N.º 8 - 30 mm</option>
          <option value="9">N.º 9 - 34 mm</option>
        </select>

        <select id="estilo" name="estilo" required>
          <option value="" disabled selected hidden>Estilo de uña</option>
          <option value="cuadrada">Cuadrada</option>
          <option value="almendra">Almendra</option>
          <option value="stiletto">Stiletto</option>
          <option value="coffin">Coffin</option>
        </select>

        <label for="imagenDiseno">Adjuntar imagen del diseño:</label>
        <div class="input-file-wrapper">
          <input type="file" id="imagenDiseno" name="imagenDiseno" class="input-file" accept="image/*" >
          <small id="file-name" class="file-name">Ningún archivo seleccionado</small>
        </div>

        <!-- FormSubmit config -->
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_next" value="https://joana-mora-nails.netlify.app/gracias.html">

        <button type="submit">🧾 ¡Cotiza tu diseño!</button>
      </div>
    </div>
  </form>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox oculto">
    <span class="cerrar-lightbox" onclick="cerrarLightbox()" aria-label="Cerrar imagen ampliada">&times;</span>
    <img id="lightbox-img" src="" alt="Imagen ampliada">
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-contenido">
      <h3>Joana Mora</h3>
      <p>Gracias por confiar en nuestro trabajo 🔮</p>
      <small>© 2025 Joana Mora Nails Studio. Todos los derechos reservados.</small>
      <p class="credito">
        Página diseñada por 
        <a href="https://norrkode.netlify.app" target="_blank" rel="noopener noreferrer">Norr<span class="span">K</span>ode</a>
      </p>
    </div>
  </footer>

  <!-- JS principal -->
  <script src="main.js"></script>

  <!-- Finder de tarjeta (Supabase) -->
  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
    const SUPABASE_URL  = "https://ovqwsturtwluwvvaucmk.supabase.co";
    const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cXdzdHVydHdsdXd2dmF1Y21rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MDU2MjYsImV4cCI6MjA3NTQ4MTYyNn0.vtteeCxjL6inYWiIXwYU7tTjID237mGU4l9EOnqvydY";
    const sb = createClient(SUPABASE_URL, SUPABASE_ANON);

    const $ = id => document.getElementById(id);
    const phoneEl = $('phone'), findBtn = $('find'), findStatus = $('findStatus');

    if (findBtn) {
      findBtn.onclick = async (e) => {
        e.preventDefault();
        const raw = phoneEl.value;
        const phone = String(raw).replace(/\D+/g,'').slice(-15);
        if(!phone){ findStatus.textContent = 'Escribe tu teléfono'; return; }

        findStatus.textContent = 'Buscando…'; findBtn.disabled = true;
        try{
          const { data, error } = await sb.from('customers').select('id').eq('phone', phone).maybeSingle();
          if (error || !data){ findStatus.textContent = 'No encontré tu tarjeta. Revisa el número.'; findBtn.disabled = false; return; }
          location.href = `tarjeta.html?id=${data.id}`;
        }catch(err){
          findStatus.textContent = 'Error buscando tu tarjeta.'; 
          findBtn.disabled = false;
        }
      };
    }
  </script>

  <!-- SW -->
  <script>
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('/sw.js');
  </script>

  <script>
(function(){
  const PIN = '1806';                 // 👈 tu PIN
  const DAYS = 365;                    // duración del desbloqueo
  const KEY = 'adminUnlockedUntil';

  function untilMs(days){ return Date.now() + days*24*60*60*1000; }
  function isUnlocked(){
    const t = parseInt(localStorage.getItem(KEY)||'0',10);
    return Date.now() < t;
  }
  function saveUnlock(){ localStorage.setItem(KEY, String(untilMs(DAYS))); }

  // Crea FAB (botón flotante)
  const btn = document.createElement('a');
  btn.href = 'admin-scan.html';
  btn.textContent = 'Admin';
  btn.setAttribute('aria-label','Admin');
  btn.style.cssText = `
    position:fixed; right:16px; bottom:16px; z-index:9999;
    display:none; align-items:center; justify-content:center;
    background:#a78bfa; color:#fff; padding:12px 16px; border-radius:999px;
    font-weight:800; text-decoration:none; box-shadow:0 10px 22px #0003;
  `;
  document.addEventListener('DOMContentLoaded', ()=> document.body.appendChild(btn));

  function showFab(){ btn.style.display='flex'; }

  function unlockFlow(){
    const pin = (prompt('PIN de administración')||'').trim();
    if(pin === PIN){
      saveUnlock();
      showFab();
      alert('Admin activado en este dispositivo ✅');
    } else {
      alert('PIN inválido');
    }
  }

  // Gesto secreto: dejar presionado el logo 1.2s
  function setupLongPressUnlock(){
    const logo = document.querySelector('.img-logo');
    if(!logo) return;
    let timer;
    const start = ()=> { timer = setTimeout(unlockFlow, 1200); };
    const clear = ()=> { clearTimeout(timer); };
    logo.addEventListener('touchstart', start, {passive:true});
    logo.addEventListener('touchend', clear, {passive:true});
    logo.addEventListener('mousedown', start);
    logo.addEventListener('mouseup', clear);
  }

  // Atajo: escribir "admin"
  function setupKeyUnlock(){
    let seq = '';
    window.addEventListener('keydown', e=>{
      seq = (seq + e.key).slice(-5);
      if(seq.toLowerCase() === 'admin') unlockFlow();
    });
  }

  // Hash para forzar botón: /#admin
  if(location.hash === '#admin') showFab();

  // Si ya está desbloqueado, mostrarnos de una
  if(isUnlocked()) showFab();

  // Si no, prepara gestos y atajo
  if(!isUnlocked()){
    setupLongPressUnlock();
    setupKeyUnlock();
  }
})();
</script>

</body>
</html>
