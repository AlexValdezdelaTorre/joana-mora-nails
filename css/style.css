/* ===========================
   Joana Mora · Style (Lilac Edition)
   =========================== */

:root{
  --bg: #F6F0FA;          /* fondo lila suave */
  --text: #3A2D46;        /* morado oscuro */
  --muted: #7B6C87;       /* texto secundario */
  --lila: #C7AEE6;        /* acento */
  --lila-dark: #A985D6;   /* botones */
  --card: #FFFFFF;        /* tarjeta */
  --line: #E6E1EC;        /* borde suave */
  --shadow: 0 8px 20px rgba(58,45,70,.08);
  --ring: rgba(169,133,214,.25);
}

*{ box-sizing:border-box; }

html,body{
  margin:0;
  padding:0;
  font-family:'Montserrat', sans-serif;
  color:var(--text);
  background: linear-gradient(180deg, #F6F0FA, #ECE3F5);
  line-height:1.6;
}

/* Accesibilidad */
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); border:0;
}

/* ===== Header ===== */
.contenedor-header{
  max-width:100%;
  margin:0 auto;
  padding:30px 400px 30px 0;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:70px;
  background-color: color-mix(in srgb, var(--lila-dark) 70%, transparent);
  position: relative;
}

.logo-container img{
  width:200px; height:200px; object-fit:cover; border-radius:50%;
  background:#fff; border:2px solid var(--lila); box-shadow:var(--shadow);
}

.img-logo{ width:200px; display:block; }

.titulo{
  font-family:'Playfair Display', serif;
  font-size:clamp(28px,5vw,56px);
  font-weight:700;
  margin:0;
}

.subtitulo{ margin:.2rem 0 0; color:var(--muted); }

.header-buttons{
  position:absolute;
  right:2rem;
  bottom:10px;
  display:flex;
  gap:1rem;
}

/* CTA principal */
.btn-cta{
  background: var(--lila-dark);
  color:#fff;
  padding:0.6rem 1rem;
  border-radius:8px;
  text-decoration:none;
  font-weight:500;
  box-shadow:var(--shadow);
  transition: background .3s ease, transform .2s ease;
}
.btn-cta:hover{
  background: var(--lila);
  transform: translateY(-2px);
}

/* Botón reseñas */
.btn-resenas{
  background: var(--bg);
  color: var(--text);
  padding:0.6rem 1rem;
  border-radius:8px;
  border:1px solid var(--line);
  cursor:pointer;
  font-weight:500;
  transition: background .3s ease, transform .2s ease;
}
.btn-resenas:hover{
  background: var(--bg);
  transform: translateY(-2px);
}

/* ===== Modal base (overlay + reseñas) ===== */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background: rgba(58,45,70,.6);
  backdrop-filter: blur(4px);
  justify-content:center;
  align-items:center;
  z-index:1000;
  overflow-y:auto;
  padding:2rem;
}
.modal.is-open{ display:flex; }

.modal-content{
  background: var(--card);
  padding:2rem;
  border-radius:12px;
  width:90%;
  max-width:400px;
  text-align:center;
  box-shadow: var(--shadow);
  animation: fadeIn .3s ease;
  max-height:90vh;
  overflow-y:auto;
}

.modal-content h2{
  margin-bottom:1rem;
  color:var(--text);
  font-size:1.4rem;
  font-weight:600;
}
.modal-content p{
  margin:.5rem 0;
  color:var(--muted);
  font-style:italic;
  font-size:.95rem;
  line-height:1.4;
}
.btn-cerrar{
  margin-top:1.5rem;
  background:var(--lila-dark);
  color:#fff;
  padding:.6rem 1.2rem;
  border-radius:6px;
  border:none;
  cursor:pointer;
  font-weight:500;
  transition:background .3s ease;
}

.btn-cerrar:hover{ background:var(--lila); }

@keyframes fadeIn{
  from{opacity:0; transform: translateY(-10px);}
  to{opacity:1; transform: translateY(0);}
}

/* ===== Hero ===== */
.slogan{
  text-align:center;
  font-family:'Playfair Display', serif;
  font-weight:600;
  font-size:clamp(18px,2.5vw,26px);
  margin:50px 12px 20px;
}

.ritual-card{
  color:var(--text);
  width:250px;
  padding:2rem;
  border-radius:12px;
  box-shadow:var(--shadow);
  text-align:center;
  margin:1rem auto;
  font-size:.9rem;
  line-height:1.4;
  transition: transform .2s ease, box-shadow .2s ease;
}
.ritual-card:hover{ 
  transform: translateY(-4px); 
  box-shadow:0 12px 24px rgba(58,45,70,.12); 
}

.ritual-card p{ 
  margin:0; 
  color:var(--muted); 
  font-style:italic; }

.elige{ 
  text-align:center; 
  color:var(--muted); 
  margin:6px 0 28px; }

/* ===== Títulos sección ===== */
.galeria{
  font-family:'Playfair Display', serif;
  text-align:center;
  margin:12px 0 20px;
}

/* ===== Botones ===== */
.categorias{
  display:flex; 
  gap:12px; 
  justify-content:center; 
  flex-wrap:wrap; 
  margin-bottom:28px;
}

.categorias button{
  width:200px; 
  height:70px;
  background: linear-gradient(180deg, var(--lila), var(--lila-dark));
  color:#fff; 
  border:none;
  padding:12px 18px; 
  border-radius:12px;
  font-weight:600; 
  cursor:pointer; 
  box-shadow:var(--shadow);
  transition: transform .08s ease, filter .15s ease;
  margin-bottom:50px;
  font-size:18px;
}

.categorias button:hover{ 
  filter:brightness(1.1); 
  transform:translateY(-2px); }

/* ===== Modal Galería ===== */
.modal-contenido-galeria{
  position:relative;
  max-width:980px;
  width:min(92vw, 980px);
  margin:64px auto;
  background:var(--card);
  border-radius:16px;
  box-shadow:var(--shadow);
  border:1px solid var(--line);
  display:flex;
  flex-direction:column;
  max-height:92dvh;
  overflow:hidden;              /* el scroll va en .imagenes-galeria */
  padding:20px 20px 12px;
}

/* Contenedor que scrollea (gutter estable + padding-right en móviles) */
.modal-contenido-galeria .imagenes-galeria{
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding:8px 0;
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap:12px;
  scrollbar-gutter: stable both-edges;   /* reserva espacio para la barra */
  box-sizing: border-box;
}

/* 🔒 Override: imágenes DENTRO del modal, siempre responsivas */
.modal-contenido-galeria .imagenes-galeria img{
  /* width:100%;
  height:auto; */
  width: 210px;
  height: 280px;
  border-radius:12px;
  box-shadow: var(--shadow);
  border:1px solid var(--line);
  cursor:zoom-in;
}

@media (max-width: 600px){
  .modal-contenido-galeria .imagenes-galeria{
    grid-template-columns: 1fr;
    padding-right: 16px;                 /* evita que la barra tape las imágenes */
  }
}

/* Bloquear scroll de fondo con modal abierto */
html.no-scroll, body.no-scroll{ overflow:hidden; }

/* ===== Modal Guía ===== */
.modal-contenido{
  position:relative;
  max-width:720px;
  width:min(92vw, 720px);
  margin:64px auto;
  background:var(--card);
  border-radius:16px;
  box-shadow:var(--shadow);
  border:1px solid var(--line);
  max-height:92dvh;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding:20px;
}
.cerrar{
  position:absolute; top:12px; right:14px;
  background:none; border:none; color:var(--muted);
  font-size:32px; line-height:1; cursor:pointer;
}
.cerrar:hover{ color:var(--text); }
.imagen-modal{ width:100%; height:auto; border-radius:12px; display:block; }

/* ===== Galería genérica (fuera/dentro) ===== */
.imagenes-galeria{
  display:grid; gap:16px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}
.imagenes-galeria img{
  width:222px; height:270px;          /* solo fuera del modal de galería */
  border-radius:14px; box-shadow:var(--shadow);
  cursor:zoom-in; border:1px solid var(--line);
}

/* ===== Layout principal ===== */
.container{
  max-width:1100px; margin:24px auto 64px; padding:0 16px;
  display:grid; gap:32px; grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
}
.pasos,.formulario{
  background:var(--card); border-radius:16px; padding:24px;
  border:1px solid var(--line); box-shadow:var(--shadow);
}
.pasos h2,.formulario h2{ font-family:'Playfair Display', serif; margin-bottom:12px; }
.parrafo{ font-weight:700; }

/* ===== Formulario ===== */
.formulario input,.formulario select{
  width:100%; padding:12px 14px; border-radius:12px;
  border:1px solid var(--line); background:#fff; margin-bottom:12px; outline:none;
  transition:border-color .15s ease, box-shadow .15s ease;
}
.formulario input:focus,.formulario select:focus{
  border-color: var(--lila-dark); box-shadow:0 0 0 4px var(--ring);
}
.input-file-wrapper{ background:#fff; border:1px dashed var(--line); padding:12px; border-radius:12px; }
.file-name{ display:block; color:var(--muted); margin-top:6px; font-size:.9rem; }
.formulario button{
  width:100%; margin-top:6px;
  background: linear-gradient(180deg, var(--lila-dark), var(--lila));
  color:#fff; border:none; padding:14px 18px; border-radius:12px;
  font-weight:700; cursor:pointer; box-shadow:var(--shadow);
}
.formulario button:hover{ filter:brightness(1.1); }

/* ===== Redes ===== */
.redes-sociales{
  display:flex; justify-content:center; gap:52px; margin-top:96px;
}
.redes-sociales a{ text-decoration:none; color:black; }
.redes-sociales img, .redes-sociales i{
  width:38px; height:38px; font-size:38px; opacity:.9;
  transition: transform .3s ease, opacity .3s ease, filter .3s ease;
  display:flex; align-items:center; justify-content:center;
}
.redes-sociales a:hover img, .redes-sociales a:hover i{
  opacity:1; transform:scale(1.2) rotate(3deg);
  filter: drop-shadow(0 4px 8px var(--ring)); color: var(--lila-dark);
}

/* ===== Lightbox ===== */
.lightbox{
  position:fixed; inset:0; background:rgba(0,0,0,.82);
  display:flex; justify-content:center; align-items:center; z-index:50;
}
.oculto{ display:none !important; }
.cerrar-lightbox{ position:absolute; top:24px; right:28px; font-size:40px; color:#fff; cursor:pointer; }
#lightbox-img{ max-width:92vw; max-height:86vh; border-radius:12px; }

/* ===== Footer ===== */
.footer{
  background: var(--lila-dark); color:#fff; text-align:center; padding:2rem 1rem;
}
.footer-contenido h3{ margin:0; font-size:1.5rem; }
.footer-contenido p, .footer-contenido small{ margin:.5rem 0; }
.footer-contenido .credito{ margin-top:1rem; font-size:.9rem; opacity:.8; }
.footer-contenido .credito a{ color:white; text-decoration:none; font-weight:500; transition:color .3s ease; }
.span{ color: rgb(48, 27, 235); }
.footer-contenido .credito a:hover{ color:#fff; }

/* ===== Responsive ===== */

/* Celulares pequeños */
@media (max-width:480px){
  .contenedor-header{ flex-direction:column; gap:8px; padding:10px; text-align:center; }
  .logo-container img{ width:110px; height:110px; }
  h1, h2, h3{ font-size:1.2rem; }
  p{ font-size:.9rem; line-height:1.4; }
  button{ width:100%; }
}

/* Celulares medianos (<=640px) */
@media (max-width:640px){
  .contenedor-header{ flex-direction:column; gap:12px; text-align:center; padding:20px; }
  .logo-container img{ width:140px; height:140px; }
}

/* Tablets (<=768px) */
@media (max-width:768px){
  nav ul{ flex-direction:column; gap:10px; }
  section{ padding:40px 20px; }
  .galeria img{ max-width:100%; }
}

/* <=1024px */
@media (max-width:1024px){
  .contenedor-header{ flex-direction:row; padding:20px; }
  .galeria{ grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
}

/* <=1280px */
@media (max-width:1280px){
  .contenedor-header{ max-width:95%; }
  section{ padding:60px 40px; }
}

/* Hasta 780px: botones del header en columna */
@media (max-width:780px){
  .header-buttons{
    position:static !important;
    margin:12px auto 0;
    width:100%;
    display:flex; flex-direction:column; align-items:center; gap:6px;
  }
  .header-buttons a, .header-buttons button{
    width:70%; font-size:.8rem; padding:.4rem .7rem; border-radius:6px;
  }
}

/* <=420px */
@media (max-width:420px){
  .header-buttons a, .header-buttons button{
    width:85%; font-size:.75rem; padding:.35rem .55rem;
  }
}

/* <=370px */
@media (max-width:370px){
  .header-buttons a, .header-buttons button{
    width:95%; font-size:.7rem; padding:.3rem .5rem;
  }
}

/* === Fix modal de galería: imágenes fijas 210x280, centradas y sin solaparse con el scroll === */

/* El panel: asegura padding simétrico y que el scroll se vea bien */
.modal-contenido-galeria{
  box-sizing: border-box;
  padding-inline: 16px;                 /* mismo gutter a ambos lados */
}

/* Contenedor que scrollea dentro del modal */
.modal-contenido-galeria .imagenes-galeria{
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(210px, 1fr)); /* celdas >= 210px */
  gap: 16px;
  justify-items: center;                /* centra cada celda en su columna */
  align-items: start;
  padding-block: 8px;
  padding-inline: 0;                    /* padding horizontal base */
  scrollbar-gutter: stable both-edges;  /* reserva espacio a ambos lados del scroll */
  box-sizing: border-box;
}

/* Cada ítem dentro de la grilla ocupa 210px de ancho (para que todas queden iguales) */
.modal-contenido-galeria .imagenes-galeria > *{
  width: 210px;
  max-width: 210px;
}

/* Las imágenes con tamaño fijo, recorte elegante y centradas */
.modal-contenido-galeria .imagenes-galeria img{
  display: block;
  width: 210px;
  height: 280px;
  object-fit: cover;        /* recorta sin deformar */
  object-position: center;  /* centra el recorte */
  border-radius: 12px;
  box-shadow: var(--shadow);
  border: 1px solid var(--line);
  margin: 0 auto;           /* asegura centrado de la imagen en su celda */
  cursor: zoom-in;
}

/* En pantallas pequeñas, una sola columna y un pequeño padding a la derecha
   para que la barra de scroll nunca se "pegue" a la imagen */
@media (max-width: 600px){
  .modal-contenido-galeria .imagenes-galeria{
    grid-template-columns: 1fr;         /* 1 columna */
    padding-inline-end: 16px;           /* despega la barra del borde de la imagen */
  }
}
